---
title: "Portfolio 1"
author: "Cynthia Deng"
date: "01/31/2026"
---

### Goal 
The goal of this project is to conduct a descriptive exploratory analysis of a working memory dataset examining performance under placebo and caffeine conditions. I focus on understanding how total working memory scores vary across drug condition, task type (digit vs. spatial span), and delay length.

### Data
The data come from a publicly available experimental study examining the effects of caffeine on working memory performance in healthy adults. Participants completed digit span and spatial span tasks under both placebo and caffeine conditions across multiple delay intervals (0, 4, 6, and 8 seconds).Total score represents an aggregate measure of overall task performance for each participant under each condition.
https://plos.figshare.com/articles/dataset/Caffeine_working_memory_data_/23679244?file=41554906

### Analysis

```{r load-packages, warning = FALSE, message=FALSE}
library(tidyverse) 
library(tidyr)
```
```{r}
caffeine <- read_csv("p01/data/caffeine.csv")
```
```{r}
glimpse(caffeine)
summary(caffeine)
caffeine <- caffeine %>%
  mutate(
    id    = factor(id),
    day   = factor(day),
    drug  = factor(drug, levels = c("P", "D")),
    span  = factor(span, levels = c("D", "S")),
    delay = factor(delay)
  )
caffeine <- caffeine %>%
  mutate(
    drug = recode(drug, P = "Placebo", D = "Caffeine"),
    span = recode(span, D = "Digit span", S = "Spatial span")
  )


```
```{r}
ggplot(caffeine, aes(x = total)) +
  geom_histogram(bins = 20) +
  labs(
    title = "Distribution of total scores",
    x = "Total score",
    y = "Count"
  )

```

The distribution of total scores is roughly unimodal, with most scores falling in a middle range and fewer observations at the low and high ends. This suggests the outcome is not extremely skewed.

```{r}
ggplot(caffeine, aes(x = total)) +
  geom_histogram(bins = 20) +
  facet_wrap(~ drug) +
  labs(
    title = "Distribution of total scores by drug condition",
    x = "Total score",
    y = "Count"
  )

```

When I split the histogram by drug condition, the placebo and caffeine distributions overlap substantially. Neither condition shows a completely different shape, which suggests any drug-related differences are likely modest.

```{r}
ggplot(caffeine, aes(x = drug, y = total)) +
  geom_boxplot(width = 0.12, outlier.alpha = 0.4) +
  facet_wrap(~ span) +
  labs(
    title = "Total scores by drug condition and task type",
    x = "Condition",
    y = "Total score"
  )

```

Across both drug conditions, total scores are higher for the digit span task than for the spatial span task, indicating better overall performance on digit span. Within the digit span task, caffeine shows a slightly higher median total score than placebo, although the interquartile ranges overlap substantially. For the spatial span task, median scores under caffeine appear slightly lower than placebo, with greater variability and several low-score outliers in the caffeine condition.

```{r}
ggplot(caffeine, aes(x = drug, y = total)) +
  geom_boxplot() +
  facet_grid(span ~ delay) +
  labs(
    title = "Total scores by drug condition across task type and delay",
    x = "Condition",
    y = "Total score"
  )

```

Across both digit and spatial span tasks, total scores show a general decline as delay length increases, with lower performance at longer delays. This decline is modest for the digit span task but more pronounced for the spatial span task, where median scores are consistently lower and variability is somewhat greater. Within most delay conditions, the placebo and caffeine distributions overlap substantially, with only small differences in median performance. In the digit span task, caffeine shows slightly higher medians at some delays, whereas in the spatial span task caffeine tends to show similar medians compared to placebo.